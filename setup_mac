#!/bin/bash

# Clone dots
rm -rf ~/projects/dots
rm -rf ~/projects/LazyVim

mkdir -p ~/projects
git clone https://github.com/peterszarvas94/dots.git ~/projects/dots
cd projects/dots

# Install homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Install packages
brew tap homebrew/cask-fonts
brew install \
    stow \
    tmux \
    zsh \
    go \
    brave-browser \
    node

# Config packages 
./config --os=mac

# Clone theme grabber and link theme file (will be removed for mac)
git clone --depth 1 https://github.com/peterszarvas94/omarchy-nvim-theme-grabber.git ~/projects/LazyVim

# Link platform-specific alacritty config
ln -nsf ~/.config/nvim/theme_default.lua ~/.config/nvim/lua/plugins/theme.lua
ln -nsf ~/.config/alacritty/theme_default.toml ~/.config/alacritty/theme.toml
ln -nsf ~/.config/alacritty/mac.toml ~/.config/alacritty/platform.toml
