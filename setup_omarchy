#!/bin/bash

# Clone dots
mkdir -p ~/projects
git clone https://github.com/peterszarvas94/dots.git ~/projects/dots
cd projects/dots

# This thing
sudo pacman -S --needed base-devel

# Check if paru is installed
if ! command -v paru &> /dev/null; then
    echo "Installing paru..."
    git clone https://aur.archlinux.org/paru.git
    cd paru
    makepkg -si
    cd ..
    rm -rf paru
else
    echo "paru is already installed"
fi

# Install packages
paru -S --noconfirm --needed \
    stow \
    tmux \
    zsh \
    go \
    extra/ttf-jetbrains-mono-nerd \
    brave-browser \
    nodejs

# Config packages (TODO: wayland stuff)
./config_packages --os=omarchy

# Clone theme grabber and link theme file
git clone https://github.com/peterszarvas94/omarchy-nvim-theme-grabber.git ~/projects/LazyVim

ln -nsf ~/.config/omarchy/current/theme/neovim.lua ~/.config/nvim/lua/plugins/theme.lua
